<div class="setup-container fade-in">
  <div class="header">
    <h1>{{ i18n.translateDocs('setup.title') }}</h1>
    <p>{{ i18n.translateDocs('setup.subtitle') }}</p>
  </div>

  <div class="steps-grid">
    <magary-card
      [width]="'100%'"
      [shadow]="3"
      [borderRadius]="'1rem'"
      [backgroundColor]="'var(--surface-0)'"
      [border]="'1px solid var(--surface-200)'"
      class="step-card"
    >
      <div slot="header">
        <div class="step-header">
          <span class="step-number">1</span>
          <h3>{{ i18n.translateDocs('setup.step1.title') }}</h3>
        </div>
      </div>
      <div class="step-content">
        <div class="step-text">
          <p>{{ i18n.translateDocs('setup.step1.desc') }}</p>
          <magary-button
            [label]="i18n.translateDocs('setup.step1.button')"
            icon="palette"
            severity="info"
            variant="outlined"
            (buttonClick)="navigateToTheming()"
            [iconSize]="16"
          ></magary-button>
        </div>
        <div class="code-block">
          <p class="text-secondary text-sm" style="margin-left: 1rem">
            {{ i18n.translateDocs('setup.step1.codeLabel') }}
          </p>
          <pre><code [highlight]="cssVariables" language="css"></code></pre>
        </div>
      </div>
    </magary-card>

    <magary-card
      [width]="'100%'"
      [shadow]="3"
      [borderRadius]="'1rem'"
      [backgroundColor]="'var(--surface-0)'"
      [border]="'1px solid var(--surface-200)'"
      class="step-card"
    >
      <div slot="header">
        <div class="step-header">
          <span class="step-number">2</span>
          <h3>{{ i18n.translateDocs('setup.step2.title') }}</h3>
        </div>
      </div>
      <div class="step-content">
        <p>
          {{ i18n.translateDocs('setup.step2.desc') }}
          <br /><br />
          <b>{{ i18n.translateDocs('setup.step2.optionLabel') }}</b>
        </p>
        <div
          style="
            flex: 1.5;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            width: 100%;
          "
        >
          <div class="code-block">
            <pre><code [highlight]="iconInstall" language="bash"></code></pre>
          </div>
          <h4>{{ i18n.translateDocs('setup.step2.standalone') }}</h4>
          <div class="code-block">
            <pre><code [highlight]="angularJsonConfig" language="typescript"></code></pre>
          </div>
          <h4>{{ i18n.translateDocs('setup.step2.modules') }}</h4>
          <div class="code-block">
            <pre><code [highlight]="moduleConfig" language="typescript"></code></pre>
          </div>
        </div>
      </div>
    </magary-card>

    <magary-card
      [width]="'100%'"
      [shadow]="3"
      [borderRadius]="'1rem'"
      [backgroundColor]="'var(--surface-0)'"
      [border]="'1px solid var(--surface-200)'"
      class="step-card"
    >
      <div slot="header">
        <div class="step-header">
          <span class="step-number">3</span>
          <h3>{{ i18n.translateDocs('setup.step3.title') }}</h3>
        </div>
      </div>
      <div class="step-content">
        <p>{{ i18n.translateDocs('setup.step3.desc') }}</p>
        <div
          style="
            flex: 1.5;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            width: 100%;
          "
        >
          <h4>{{ i18n.translateDocs('setup.step3.standalone') }}</h4>
          <div class="code-block">
            <pre><code [highlight]="animationsConfig" language="typescript"></code></pre>
          </div>
          <h4>{{ i18n.translateDocs('setup.step3.modules') }}</h4>
          <div class="code-block">
            <pre><code [highlight]="moduleAnimationsConfig" language="typescript"></code></pre>
          </div>
        </div>
      </div>
    </magary-card>

    <magary-card
      [width]="'100%'"
      [shadow]="3"
      [borderRadius]="'1rem'"
      [backgroundColor]="'var(--surface-0)'"
      [border]="'1px solid var(--surface-200)'"
      class="step-card"
    >
      <div slot="header">
        <div class="step-header">
          <span class="step-number">4</span>
          <h3>{{ i18n.translateDocs('setup.step4.title') }}</h3>
        </div>
      </div>
      <div class="step-content step-content-column">
        <p>{{ i18n.translateDocs('setup.step4.desc') }}</p>
        <div class="quick-links">
          <magary-button
            [label]="i18n.translateDocs('setup.step4.formButton')"
            icon="settings"
            severity="info"
            variant="outlined"
            (buttonClick)="navigateToRoute('/components/Input')"
          ></magary-button>
          <magary-button
            [label]="i18n.translateDocs('setup.step4.overlayButton')"
            icon="layers"
            severity="info"
            variant="outlined"
            (buttonClick)="navigateToRoute('/components/ConfirmDialog')"
          ></magary-button>
          <magary-button
            [label]="i18n.translateDocs('setup.step4.dataButton')"
            icon="table"
            severity="info"
            variant="outlined"
            (buttonClick)="navigateToRoute('/components/Table')"
          ></magary-button>
        </div>
        <div class="integration-grid">
          <div class="code-block">
            <p class="text-secondary text-sm" style="margin-left: 1rem">
              {{ i18n.translateDocs('setup.step4.standaloneLabel') }}
            </p>
            <pre><code [highlight]="integrationStandalone" language="typescript"></code></pre>
          </div>
          <div class="code-block">
            <p class="text-secondary text-sm" style="margin-left: 1rem">
              {{ i18n.translateDocs('setup.step4.formsLabel') }}
            </p>
            <pre><code [highlight]="integrationForms" language="typescript"></code></pre>
          </div>
          <div class="code-block">
            <p class="text-secondary text-sm" style="margin-left: 1rem">
              {{ i18n.translateDocs('setup.step4.overlayLabel') }}
            </p>
            <pre><code [highlight]="integrationOverlay" language="typescript"></code></pre>
          </div>
        </div>
      </div>
    </magary-card>

    <magary-card
      [width]="'100%'"
      [shadow]="3"
      [borderRadius]="'1rem'"
      [backgroundColor]="'var(--surface-0)'"
      [border]="'1px solid var(--surface-200)'"
      class="step-card"
    >
      <div slot="header">
        <div class="step-header">
          <lucide-icon name="heart-handshake" class="step-icon"></lucide-icon>
          <h3>{{ i18n.translateDocs('setup.attribution.title') }}</h3>
        </div>
      </div>
      <div class="step-content-attribution">
        <p>{{ i18n.translateDocs('setup.attribution.desc') }}</p>
        <div class="attribution-list">
          <div class="attribution-item">
            <div class="attribution-icon">
              <lucide-icon name="layout-grid" [size]="24"></lucide-icon>
            </div>
            <div class="attribution-details">
              <h4>Gridstack.js</h4>
              <p>{{ i18n.translateDocs('setup.attribution.gridstack') }}</p>
              <a
                href="https://gridstackjs.com/"
                target="_blank"
                class="attribution-link"
              >
                gridstackjs.com
              </a>
              <span class="license-badge">MIT License</span>
            </div>
          </div>

          <div class="attribution-item">
            <div class="attribution-icon">
              <lucide-icon name="image" [size]="24"></lucide-icon>
            </div>
            <div class="attribution-details">
              <h4>Lucide Icons</h4>
              <p>{{ i18n.translateDocs('setup.attribution.lucide') }}</p>
              <a
                href="https://lucide.dev/"
                target="_blank"
                class="attribution-link"
              >
                lucide.dev
              </a>
              <span class="license-badge">ISC License</span>
            </div>
          </div>
        </div>
      </div>
    </magary-card>
  </div>
</div>
