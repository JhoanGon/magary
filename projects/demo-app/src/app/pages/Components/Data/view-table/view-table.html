<div class="container">
  <div class="header">
    <h1>{{ t('components.data.table.title') }}</h1>
    <p>{{ t('components.data.table.subtitle') }}</p>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.data.table.import.title') }}</h2>
      <p>{{ t('components.data.table.import.desc') }}</p>
    </div>
    <div class="section-content">
      <div class="code-block">
        <pre><code [highlight]="importExample" language="typescript"></code></pre>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.data.table.basic.title') }}</h2>
      <p>{{ t('components.data.table.basic.desc') }}</p>
    </div>
    <div class="section-content">
      <div class="demo-grid">
        <div class="demo-item" style="width: 100%">
          <magary-card
            [width]="'100%'"
            [shadow]="2"
            [borderRadius]="'1rem'"
            [backgroundColor]="'var(--surface-0)'"
          >
            <div class="demo-card-content">
              <magary-table
                [value]="products.slice(0, 5)"
                [columns]="cols"
              ></magary-table>
            </div>
          </magary-card>
        </div>
      </div>
      <div class="code-block">
        <pre><code [highlight]="basicExample" language="html"></code></pre>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.data.table.paginatorFixed.title') }}</h2>
      <p>{{ t('components.data.table.paginatorFixed.desc') }}</p>
    </div>
    <div class="section-content">
      <div class="demo-grid">
        <div class="demo-item" style="width: 100%">
          <magary-card
            [width]="'100%'"
            [shadow]="2"
            [borderRadius]="'1rem'"
            [backgroundColor]="'var(--surface-0)'"
          >
            <div class="demo-card-content">
              <magary-table
                [value]="products"
                [columns]="cols"
                [paginator]="true"
                [rows]="5"
                [globalFilterFields]="['name', 'category', 'status']"
                [title]="t('components.data.table.demoTitle.productsList')"
                [responsiveLayout]="false"
              >
              </magary-table>
            </div>
          </magary-card>
        </div>
      </div>
      <div class="code-block">
        <magary-tabs
          [backgroundLine]="tabsConfig.backgroundLine"
          [positionContent]="tabsConfig.positionContent"
          [background]="tabsConfig.background"
        >
          <magary-tab label="HTML">
            <pre><code [highlight]="filterExample" language="html"></code></pre>
          </magary-tab>
          <magary-tab label="TS">
            <pre><code [highlight]="tsExample" language="typescript"></code></pre>
          </magary-tab>
        </magary-tabs>
      </div>

      <div class="template-guidelines">
        <h3>{{ t('components.data.table.templateGuidelines.title') }}</h3>
        <p>
          {{ t('components.data.table.templateGuidelines.intro') }}
        </p>
        <ul>
          <li>
            {{ t('components.data.table.templateGuidelines.item.row') }}
          </li>
          <li>
            {{ t('components.data.table.templateGuidelines.item.cell') }}
          </li>
          <li>
            {{ t('components.data.table.templateGuidelines.item.layout') }}
          </li>
        </ul>
        <div class="code-block">
          <pre><code [highlight]="templateGuidelinesExample" language="html"></code></pre>
        </div>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.data.table.paginatorResponsive.title') }}</h2>
      <p>{{ t('components.data.table.paginatorResponsive.desc') }}</p>
    </div>
    <div class="section-content">
      <div class="demo-grid">
        <div class="demo-item" style="width: 100%">
          <magary-card
            [width]="'100%'"
            [shadow]="2"
            [borderRadius]="'1rem'"
            [backgroundColor]="'var(--surface-0)'"
          >
            <div class="demo-card-content">
              <magary-table
                [value]="products"
                [columns]="cols"
                [paginator]="true"
                [rows]="5"
                [globalFilterFields]="['name', 'category', 'status']"
                [title]="t('components.data.table.demoTitle.productsList')"
              >
              </magary-table>
            </div>
          </magary-card>
        </div>
      </div>
      <div class="code-block">
        <magary-tabs
          [backgroundLine]="tabsConfig.backgroundLine"
          [positionContent]="tabsConfig.positionContent"
          [background]="tabsConfig.background"
        >
          <magary-tab label="HTML">
            <pre><code [highlight]="filterResponsiveExample" language="html"></code></pre>
          </magary-tab>
          <magary-tab label="TS">
            <pre><code [highlight]="tsExample" language="typescript"></code></pre>
          </magary-tab>
        </magary-tabs>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.data.table.fixed.title') }}</h2>
      <p>{{ t('components.data.table.fixed.desc') }}</p>
    </div>
    <div class="section-content">
      <div class="demo-grid">
        <div class="demo-item" style="width: 100%">
          <magary-card
            [width]="'100%'"
            [shadow]="2"
            [borderRadius]="'1rem'"
            [backgroundColor]="'var(--surface-0)'"
          >
            <div class="demo-card-content">
              <magary-table
                [value]="products"
                [columns]="cols"
                [responsiveLayout]="false"
                [title]="t('components.data.table.demoTitle.fixedHeightTable')"
              >
              </magary-table>
            </div>
          </magary-card>
        </div>
      </div>
      <div class="code-block">
        <magary-tabs
          [backgroundLine]="tabsConfig.backgroundLine"
          [positionContent]="tabsConfig.positionContent"
          [background]="tabsConfig.background"
        >
          <magary-tab label="HTML">
            <pre><code [highlight]="fixedLayoutExample" language="html"></code></pre>
          </magary-tab>
          <magary-tab label="TS">
            <pre><code [highlight]="tsExample" language="typescript"></code></pre>
          </magary-tab>
        </magary-tabs>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.data.table.loading.title') }}</h2>
      <p>{{ t('components.data.table.loading.desc') }}</p>
    </div>
    <div class="section-content">
      <div class="demo-grid">
        <div class="demo-item" style="width: 100%">
          <magary-card
            [width]="'100%'"
            [shadow]="2"
            [borderRadius]="'1rem'"
            [backgroundColor]="'var(--surface-0)'"
          >
            <div class="demo-card-content">
              <magary-table
                [value]="[]"
                [columns]="cols"
                [loading]="true"
                [title]="t('components.data.table.demoTitle.loadingState')"
              >
              </magary-table>
            </div>
          </magary-card>
        </div>
      </div>
      <div class="code-block">
        <magary-tabs
          [backgroundLine]="tabsConfig.backgroundLine"
          [positionContent]="tabsConfig.positionContent"
          [background]="tabsConfig.background"
        >
          <magary-tab label="HTML">
            <pre><code [highlight]="loadingExample" language="html"></code></pre>
          </magary-tab>
          <magary-tab label="TS">
            <pre><code [highlight]="tsExample" language="typescript"></code></pre>
          </magary-tab>
        </magary-tabs>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.data.table.templates.title') }}</h2>
      <p>{{ t('components.data.table.templates.desc') }}</p>
    </div>
    <div class="section-content">
      <div class="demo-grid">
        <div class="demo-item" style="width: 100%">
          <magary-card
            [width]="'100%'"
            [shadow]="2"
            [borderRadius]="'1rem'"
            [backgroundColor]="'var(--surface-0)'"
          >
            <div class="demo-card-content">
              <magary-table
                [value]="inlineEditProducts"
                [columns]="inlineEditCols"
                [paginator]="true"
                [rows]="5"
                [rowsPerPageOptions]="[5, 10]"
              >
                <ng-template magaryTemplate="header">
                  <tr class="inline-edit-header-row">
                    <th>{{ t('components.data.table.templates.header.name') }}</th>
                    <th>
                      {{ t('components.data.table.templates.header.priceEdit') }}
                    </th>
                    <th>
                      {{ t('components.data.table.templates.header.actions') }}
                    </th>
                  </tr>
                </ng-template>
                <ng-template magaryTemplate="body" let-product>
                  <tr class="table-row inline-edit-row">
                    <td>
                      <span class="table-cell-value">{{ product.name }}</span>
                    </td>
                    <td class="inline-edit-price-cell">
                      <span class="table-cell-value">
                        <magary-input
                          [(value)]="product.price"
                          type="number"
                          size="small"
                          width="12rem"
                          [ariaLabel]="editPriceAriaLabel(product.name)"
                          prefixIcon="dollar-sign"
                        ></magary-input>
                      </span>
                    </td>
                    <td class="inline-edit-actions-cell">
                      <span class="table-cell-value">
                        <magary-button
                          icon="trash"
                          severity="danger"
                          variant="text"
                        ></magary-button>
                      </span>
                    </td>
                  </tr>
                </ng-template>
              </magary-table>
            </div>
          </magary-card>
        </div>
      </div>
      <div class="code-block">
        <magary-tabs
          [backgroundLine]="tabsConfig.backgroundLine"
          [positionContent]="tabsConfig.positionContent"
          [background]="tabsConfig.background"
        >
          <magary-tab label="HTML">
            <pre><code [highlight]="templateExample" language="html"></code></pre>
          </magary-tab>
          <magary-tab label="TS">
            <pre><code [highlight]="tsExample" language="typescript"></code></pre>
          </magary-tab>
        </magary-tabs>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.data.table.enterprise.title') }}</h2>
      <p>{{ t('components.data.table.enterprise.desc') }}</p>
    </div>
    <div class="section-content">
      <div class="demo-grid">
        <div class="demo-item" style="width: 100%">
          <magary-card
            [width]="'100%'"
            [shadow]="2"
            [borderRadius]="'1rem'"
            [backgroundColor]="'var(--surface-0)'"
          >
            <div class="demo-card-content">
              <magary-table
                [value]="products"
                [columns]="cols"
                [paginator]="true"
                [rows]="10"
                [rowsPerPageOptions]="[10, 25, 50]"
                [globalFilterFields]="['name', 'category', 'status']"
                [responsiveLayout]="false"
                [title]="t('components.data.table.demoTitle.inventoryControl')"
                (onPageChange)="onEnterprisePageChange($event)"
                (onSortChange)="onEnterpriseSortChange($event)"
              ></magary-table>
              <div class="template-guidelines">
                <p>
                  <strong>
                    {{ t('components.data.table.enterprise.lastPageLabel') }}
                  </strong>
                  {{ enterprisePageEventSummary }}
                </p>
                <p>
                  <strong>
                    {{ t('components.data.table.enterprise.lastSortLabel') }}
                  </strong>
                  {{ enterpriseSortEventSummary }}
                </p>
              </div>
            </div>
          </magary-card>
        </div>
      </div>
      <div class="code-block">
        <magary-tabs
          [backgroundLine]="tabsConfig.backgroundLine"
          [positionContent]="tabsConfig.positionContent"
          [background]="tabsConfig.background"
        >
          <magary-tab label="HTML">
            <pre><code [highlight]="enterpriseRecipeExample" language="html"></code></pre>
          </magary-tab>
          <magary-tab label="TS">
            <pre><code [highlight]="enterpriseRecipeTsExample" language="typescript"></code></pre>
          </magary-tab>
        </magary-tabs>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.data.table.apiInputs.title') }}</h2>
      <p>{{ t('components.data.table.apiInputs.desc') }}</p>
    </div>
    <div class="section-content">
      <div class="table-wrapper">
        <table class="api-table">
          <thead>
            <tr>
              <th>{{ t('components.data.table.apiInputs.header.name') }}</th>
              <th>{{ t('components.data.table.apiInputs.header.type') }}</th>
              <th>{{ t('components.data.table.apiInputs.header.default') }}</th>
              <th>{{ t('components.data.table.apiInputs.header.description') }}</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>value</code></td>
              <td><code>unknown[]</code></td>
              <td><code>[]</code></td>
              <td>{{ t('components.data.table.apiInputs.value.desc') }}</td>
            </tr>
            <tr>
              <td><code>columns</code></td>
              <td><code>MagaryTableColumn[]</code></td>
              <td><code>[]</code></td>
              <td>{{ t('components.data.table.apiInputs.columns.desc') }}</td>
            </tr>
            <tr>
              <td><code>columns[].sortable</code></td>
              <td><code>boolean</code></td>
              <td><code>false</code></td>
              <td>
                {{ t('components.data.table.apiInputs.columnsSortable.desc') }}
              </td>
            </tr>
            <tr>
              <td><code>paginator</code></td>
              <td><code>boolean</code></td>
              <td><code>false</code></td>
              <td>{{ t('components.data.table.apiInputs.paginator.desc') }}</td>
            </tr>
            <tr>
              <td><code>rows</code></td>
              <td><code>number</code></td>
              <td><code>5</code></td>
              <td>{{ t('components.data.table.apiInputs.rows.desc') }}</td>
            </tr>
            <tr>
              <td><code>globalFilterFields</code></td>
              <td><code>string[]</code></td>
              <td><code>[]</code></td>
              <td>
                {{ t('components.data.table.apiInputs.globalFilterFields.desc') }}
              </td>
            </tr>
            <tr>
              <td><code>title</code></td>
              <td><code>string</code></td>
              <td><code>''</code></td>
              <td>{{ t('components.data.table.apiInputs.titleInput.desc') }}</td>
            </tr>
            <tr>
              <td><code>responsiveLayout</code></td>
              <td><code>boolean</code></td>
              <td><code>true</code></td>
              <td>
                {{ t('components.data.table.apiInputs.responsiveLayout.desc') }}
              </td>
            </tr>
            <tr>
              <td><code>loading</code></td>
              <td><code>boolean</code></td>
              <td><code>false</code></td>
              <td>{{ t('components.data.table.apiInputs.loading.desc') }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.data.table.apiOutputs.title') }}</h2>
      <p>{{ t('components.data.table.apiOutputs.desc') }}</p>
    </div>
    <div class="section-content">
      <div class="table-wrapper">
        <table class="api-table">
          <thead>
            <tr>
              <th>{{ t('components.data.table.apiOutputs.header.name') }}</th>
              <th>{{ t('components.data.table.apiOutputs.header.type') }}</th>
              <th>
                {{ t('components.data.table.apiOutputs.header.description') }}
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>onPageChange</code></td>
              <td><code>EventEmitter&lt;PaginatorState&gt;</code></td>
              <td>
                {{ t('components.data.table.apiOutputs.onPageChange.desc') }}
              </td>
            </tr>
            <tr>
              <td><code>onSortChange</code></td>
              <td><code>EventEmitter&lt;MagaryTableSortState&gt;</code></td>
              <td>
                {{ t('components.data.table.apiOutputs.onSortChange.desc') }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
