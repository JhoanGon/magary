<div class="container fade-in">
  <div class="header">
    <h1>{{ t('components.overlay.overlayPanel.title') }}</h1>
    <p>{{ t('components.overlay.overlayPanel.subtitle') }}</p>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.overlay.overlayPanel.import.title') }}</h2>
    </div>
    <div class="section-content">
      <div class="code-block">
        <pre><code [highlight]="importRef" language="typescript"></code></pre>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.overlay.overlayPanel.basic.title') }}</h2>
      <p>{{ t('components.overlay.overlayPanel.basic.desc') }}</p>
    </div>
    <div class="section-content">
      <div class="demo-content">
        <div
          style="
            display: flex;
            gap: 1rem;
            justify-content: center;
            padding: 2rem;
          "
        >
          <magary-button
            (buttonClick)="op.toggle($event)"
            [label]="t('components.overlay.overlayPanel.basic.button')"
          ></magary-button>

          <magary-overlaypanel
            #op
            [panelAriaLabel]="t('components.overlay.overlayPanel.basic.panelAria')"
            (onShow)="onOverlayShow()"
            (onHide)="onOverlayHide()"
          >
            <div style="width: 300px">
              <h4 style="margin-top: 0">
                {{ t('components.overlay.overlayPanel.basic.contentTitle') }}
              </h4>
              <p>{{ t('components.overlay.overlayPanel.basic.contentBody') }}</p>
            </div>
          </magary-overlaypanel>
        </div>
      </div>
      <div class="code-block" style="margin-top: 1rem">
        <magary-tabs
          [backgroundLine]="'#ed2c44'"
          [positionContent]="'flex-start'"
          [background]="'#282c34'"
          [tabListAriaLabel]="
            t('components.overlay.overlayPanel.basic.codeAria')
          "
        >
          <magary-tab [label]="t('components.overlay.overlayPanel.tabs.html')">
            <pre><code [highlight]="codeBasic" language="html"></code></pre>
          </magary-tab>
          <magary-tab [label]="t('components.overlay.overlayPanel.tabs.ts')">
            <pre><code [highlight]="tsCode" language="typescript"></code></pre>
          </magary-tab>
        </magary-tabs>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.overlay.overlayPanel.selection.title') }}</h2>
      <p>{{ t('components.overlay.overlayPanel.selection.desc') }}</p>
    </div>
    <div class="section-content">
      <div class="demo-content">
        <div
          style="
            display: flex;
            gap: 1rem;
            justify-content: center;
            padding: 2rem;
          "
        >
          <magary-button
            (buttonClick)="selectProduct($event, products[0], op2)"
            icon="image"
            [label]="t('components.overlay.overlayPanel.selection.button1')"
          ></magary-button>
          <magary-button
            (buttonClick)="selectProduct($event, products[1], op2)"
            icon="image"
            [label]="t('components.overlay.overlayPanel.selection.button2')"
            severity="secondary"
          ></magary-button>
        </div>

        <magary-overlaypanel
          #op2
          [showCloseIcon]="true"
          [panelAriaLabel]="t('components.overlay.overlayPanel.selection.panelAria')"
        >
          @if (selectedProduct) {
            <div style="text-align: center; padding: 1rem">
              <img
                [src]="
                  'https://primefaces.org/cdn/primeng/images/demo/product/' +
                  selectedProduct.image
                "
                [alt]="selectedProduct.name"
                style="
                  width: 100px;
                  display: block;
                  margin: 0 auto 1rem auto;
                  border-radius: 4px;
                  box-shadow: var(--shadow-sm);
                "
              />
              <span class="font-bold block">{{ selectedProduct.name }}</span>
              <span class="block text-secondary" style="margin-top: 0.5rem"
                >{{ selectedProduct.price }}
                {{ t('components.overlay.overlayPanel.selection.currency') }}</span
              >
            </div>
          }
        </magary-overlaypanel>

        <p style="margin-top: 1rem; color: var(--text-secondary)">
          {{ t('components.overlay.overlayPanel.selection.eventStatus') }}:
          {{ overlayEventSummary }}
        </p>
      </div>
      <div class="code-block" style="margin-top: 1rem">
        <magary-tabs
          [backgroundLine]="'#ed2c44'"
          [positionContent]="'flex-start'"
          [background]="'#282c34'"
          [tabListAriaLabel]="
            t('components.overlay.overlayPanel.selection.codeAria')
          "
        >
          <magary-tab [label]="t('components.overlay.overlayPanel.tabs.html')">
            <pre><code [highlight]="codeTable" language="html"></code></pre>
          </magary-tab>
          <magary-tab [label]="t('components.overlay.overlayPanel.tabs.ts')">
            <pre><code [highlight]="tsCode" language="typescript"></code></pre>
          </magary-tab>
        </magary-tabs>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="section-header">
      <h2>{{ t('components.overlay.overlayPanel.api.title') }}</h2>
    </div>
    <div class="section-content">
      <div class="table-wrapper">
        <table class="api-table">
          <thead>
            <tr>
              <th>{{ t('components.overlay.overlayPanel.api.header.name') }}</th>
              <th>{{ t('components.overlay.overlayPanel.api.header.type') }}</th>
              <th>
                {{ t('components.overlay.overlayPanel.api.header.default') }}
              </th>
              <th>
                {{ t('components.overlay.overlayPanel.api.header.description') }}
              </th>
            </tr>
          </thead>
          <tbody>
            @for (row of inputRows; track row.name) {
              <tr>
                <td><code>{{ row.name }}</code></td>
                <td><code>{{ row.type }}</code></td>
                <td><code>{{ row.default }}</code></td>
                <td>{{ t(row.descriptionKey) }}</td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
