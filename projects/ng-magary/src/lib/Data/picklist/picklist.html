<div class="picklist-list-wrapper source-wrapper">
  <div class="picklist-header" *ngIf="sourceHeader()">{{ sourceHeader() }}</div>
  <ul #sourceList class="picklist-list" [ngStyle]="sourceStyle()" tabindex="0">
    <li
      *ngFor="let item of source()"
      #sourceItem
      class="picklist-item"
      [class.picklist-item-drag-enabled]="dragDrop()"
      [class.selected]="selectedSource().includes(item)"
      (click)="onSourceItemClick($event, item)"
    >
      <ng-container
        *ngTemplateOutlet="
          itemTemplate() || defaultTemplate;
          context: { $implicit: item }
        "
      ></ng-container>
    </li>
  </ul>
</div>

<div class="picklist-buttons" *ngIf="showSourceControls() || showTargetControls()">
  <magary-button
    type="button"
    icon="chevrons-right"
    severity="secondary"
    size="small"
    [iconSize]="16"
    (buttonClick)="moveAllRight()"
    [disabled]="source().length === 0"
  >
  </magary-button>
  <magary-button
    type="button"
    icon="chevron-right"
    (buttonClick)="moveRight()"
    [disabled]="selectedSource().length === 0"
    severity="secondary"
    size="small"
    [iconSize]="16"
  >
  </magary-button>
  <magary-button
    type="button"
    icon="chevron-left"
    (buttonClick)="moveLeft()"
    [disabled]="selectedTarget().length === 0"
    severity="secondary"
    size="small"
    [iconSize]="16"
  >
  </magary-button>
  <magary-button
    type="button"
    icon="chevrons-left"
    (buttonClick)="moveAllLeft()"
    [disabled]="target().length === 0"
    severity="secondary"
    size="small"
    [iconSize]="16"
  >
  </magary-button>
</div>

<div class="picklist-list-wrapper target-wrapper">
  <div class="picklist-header" *ngIf="targetHeader()">{{ targetHeader() }}</div>
  <ul #targetList class="picklist-list" [ngStyle]="targetStyle()" tabindex="0">
    <li
      *ngFor="let item of target()"
      #targetItem
      class="picklist-item"
      [class.picklist-item-drag-enabled]="dragDrop()"
      [class.selected]="selectedTarget().includes(item)"
      (click)="onTargetItemClick($event, item)"
    >
      <ng-container
        *ngTemplateOutlet="
          itemTemplate() || defaultTemplate;
          context: { $implicit: item }
        "
      ></ng-container>
    </li>
  </ul>
</div>

<ng-template #defaultTemplate let-item>
  {{ getItemLabel(item) }}
</ng-template>
