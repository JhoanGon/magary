<div
  class="magary-dataview"
  [ngClass]="{
    'magary-dataview-list': layout() === 'list',
    'magary-dataview-grid': layout() === 'grid',
    'magary-dataview-loading': loading(),
  }"
>
  <div class="magary-dataview-header" *ngIf="headerTemplate()">
    <ng-container *ngTemplateOutlet="headerTemplate()"></ng-container>
  </div>

  <div class="magary-dataview-content">
    <div class="magary-grid">
      <ng-template
        ngFor
        let-item
        let-index="index"
        [ngForOf]="dataToRender()"
        [ngForTrackBy]="trackBy()"
      >
        <ng-container
          *ngTemplateOutlet="
            layout() === 'list' ? listItemTemplate() : gridItemTemplate();
            context: { $implicit: item, index: index }
          "
        ></ng-container>
      </ng-template>
      <div
        *ngIf="!dataToRender() || dataToRender().length === 0"
        class="magary-dataview-empty"
      >
        {{ emptyMessage() }}
      </div>
    </div>
  </div>

  <div class="magary-dataview-footer" *ngIf="footerTemplate()">
    <ng-container *ngTemplateOutlet="footerTemplate()"></ng-container>
  </div>

  <magary-paginator
    *ngIf="paginator()"
    [rows]="rows()"
    [first]="first()"
    [totalRecords]="getTotalRecords()"
    [pageLinkSize]="pageLinks()"
    [rowsPerPageOptions]="rowsPerPageOptions()"
    (onPageChange)="onPageChange($event)"
  ></magary-paginator>
</div>
