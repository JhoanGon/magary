<div
  [class]="
    'magary-split-button ' + styleClass() + (disabled() ? ' disabled' : '')
  "
>
  <button
    type="button"
    class="default-button"
    [disabled]="disabled()"
    (click)="onDefaultClick($event)"
  >
    <lucide-icon
      *ngIf="icon()"
      [name]="icon()"
      [size]="iconSize()"
      class="button-icon"
    ></lucide-icon>
    <span class="button-label">{{ label() }}</span>
  </button>

  <button
    type="button"
    class="dropdown-trigger"
    [disabled]="disabled()"
    [class.active]="isOpen()"
    (click)="toggleDropdown($event)"
  >
    <lucide-icon name="chevron-down"></lucide-icon>
  </button>

  <div class="split-button-menu" *ngIf="isOpen()">
    <ul role="menu">
      <ng-container *ngFor="let item of model()">
        <li
          role="menuitem"
          [class.disabled]="item.disabled"
          (click)="onItemClick($event, item)"
        >
          <lucide-icon
            *ngIf="item.icon"
            [name]="item.icon"
            [size]="iconSize()"
            class="menu-item-icon"
          ></lucide-icon>
          <span class="menu-item-label">{{ item.label }}</span>
        </li>
      </ng-container>
    </ul>
  </div>
</div>
