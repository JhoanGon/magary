<button
  type="button"
  [disabled]="isDisabled()"
  [ngStyle]="buttonStyles()"
  [ngClass]="buttonClasses()"
  [attr.aria-label]="effectiveAriaLabel()"
  [attr.aria-busy]="loading() ? 'true' : null"
  [attr.aria-disabled]="isDisabled() ? 'true' : null"
  (click)="onButtonClick($event)"
>
  @if (loading()) {
    <lucide-icon
      name="loader"
      class="p-button-loading-icon spin"
      aria-hidden="true"
      [size]="iconSize()"
      [style.width.px]="iconSize()"
    ></lucide-icon>
  }
  @if (icon() && !loading() && iconPos() === "left") {
    <lucide-icon
      [name]="icon()"
      class="p-button-icon"
      [size]="iconSize()"
      [style.width.px]="iconSize()"
    ></lucide-icon>
  }
  @if (label()) {
    <span class="p-button-label">{{ label() }}</span>
  } @else if (!icon()) {
    <span class="p-button-label">&nbsp;</span>
  }
  @if (icon() && !loading() && iconPos() === "right") {
    <lucide-icon
      [name]="icon()"
      class="p-button-icon"
      [size]="iconSize()"
      [style.width.px]="iconSize()"
    ></lucide-icon>
  }
</button>
