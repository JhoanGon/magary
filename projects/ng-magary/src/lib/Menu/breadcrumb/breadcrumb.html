<nav [ngClass]="styleClass()" [ngStyle]="style() || {}">
  <ol class="magary-breadcrumb">
    @if (home(); as homeItem) {
      <li class="magary-breadcrumb-home">
        <a
          [href]="homeItem.url || null"
          [routerLink]="homeItem.routerLink"
          [queryParams]="homeItem.queryParams"
          [routerLinkActive]="'magary-menuitem-link-active'"
          [routerLinkActiveOptions]="
            homeItem.routerLinkActiveOptions || { exact: false }
          "
          [target]="homeItem.target"
          [fragment]="homeItem.fragment"
          [preserveFragment]="homeItem.preserveFragment"
          [skipLocationChange]="homeItem.skipLocationChange"
          [replaceUrl]="homeItem.replaceUrl"
          [state]="homeItem.state"
          class="magary-menuitem-link"
          (click)="itemClick($event, homeItem)"
          [ngClass]="{ 'magary-disabled': homeItem.disabled }"
          [attr.tabindex]="homeItem.disabled ? null : '0'"
        >
          @if (homeItem.icon) {
            <lucide-icon [name]="homeItem.icon!" [size]="16"></lucide-icon>
          }
        </a>
        @if (model().length > 0) {
          <span class="magary-breadcrumb-chevron">
            <lucide-icon name="chevron-right" [size]="14"></lucide-icon>
          </span>
        }
      </li>
    }

    @for (item of model(); track item.label; let last = $last) {
      <li class="magary-breadcrumb-item">
        @if (!item.routerLink && !item.url) {
          <span
            class="magary-menuitem-text"
            (click)="itemClick($event, item)"
            [ngClass]="{ 'magary-disabled': item.disabled }"
          >
            @if (item.icon) {
              <lucide-icon
                [name]="item.icon!"
                [size]="16"
                style="margin-right: 0.5rem"
              ></lucide-icon>
            }
            {{ item.label }}
          </span>
        }

        @if (item.routerLink || item.url) {
          <a
            [href]="item.url || null"
            [routerLink]="item.routerLink"
            [queryParams]="item.queryParams"
            [routerLinkActive]="'magary-menuitem-link-active'"
            [routerLinkActiveOptions]="
              item.routerLinkActiveOptions || { exact: false }
            "
            [target]="item.target"
            [fragment]="item.fragment"
            [preserveFragment]="item.preserveFragment"
            [skipLocationChange]="item.skipLocationChange"
            [replaceUrl]="item.replaceUrl"
            [state]="item.state"
            class="magary-menuitem-link"
            (click)="itemClick($event, item)"
            [ngClass]="{ 'magary-disabled': item.disabled }"
            [attr.tabindex]="item.disabled ? null : '0'"
          >
            @if (item.icon) {
              <lucide-icon
                [name]="item.icon!"
                [size]="16"
                style="margin-right: 0.5rem"
              ></lucide-icon>
            }
            <span class="magary-menuitem-text">{{ item.label }}</span>
          </a>
        }
      </li>
      @if (!last) {
        <li class="magary-breadcrumb-chevron">
          <lucide-icon name="chevron-right" [size]="14"></lucide-icon>
        </li>
      }
    }
  </ol>
</nav>
